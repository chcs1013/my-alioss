<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preview</title>
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
    <style>*{box-sizing:border-box}body{position:absolute;left:0;top:0;right:0;bottom:0;padding:0;margin:0;display:flex;flex-direction:column;align-items:center;justify-content:center;}#ct{border:0;max-width:100%;max-height:100%;}pre#ct{margin:0;width:100%;height:100%;padding:1em;overflow:auto;}a{color:blue;text-decoration:none}a:hover{text-decoration:underline}</style>
</head>
<body>
    <div id="ct">...</div>
    <script>const l=location.href;const u=new URL(new URL(l).hash.substring(1),l);const r=atob(u.searchParams.get('url')),t=u.searchParams.get('type');const n=_=>0;switch(t){
case'text':fetch(r).then(v=>v.text()).then(t=>{let p=document.createElement('pre');p.id='ct';ct.replaceWith(p);p.innerText=t}).catch(e=>ct.innerText=e);break;
case'image':{let p=document.createElement('img');p.id='ct';ct.replaceWith(p);p.src=r;p.onclick=_=>p.classList.toggle('d')};break;
case'audio':{let p=document.createElement('audio');p.id='ct';ct.replaceWith(p);p.controls=!0;p.src=r;p.play().catch(n)};break;
case'video':{let p=document.createElement('video');p.id='ct';ct.replaceWith(p);p.controls=!0;p.src=r;p.play().catch(n)};break;
default:{let p=document.createElement('a');p.id='ct';ct.replaceWith(p);p.href=r;p.innerText='Cannot preview, click to download'}}document.title=r</script>
    <style>body:not(:has(pre)){user-select:none}body:has(video),body:has(audio),body:has(img){background-color: #000;}</style>
    <style>img#ct{cursor:zoom-in}img#ct.d{max-width:unset;max-height:unset;position:absolute;left:0;top:0;cursor:zoom-out}</style>
</body>
</html>